\chapter{Introducción y motivación}

Este proyecto surge como consecuencia de una idea ocurrida mientras se jugó el videojuego \textit{Metal Gear Rising} el cual incluye una mecánica que consiste en dar la posibilidad al jugador de cortar de forma precisa elementos del entorno, teniendo control en la dirección del corte. Tras observar dicha mecánica, se pensó en cómo se habría podido desarrollar tal efecto en un entorno 3D con la precisión y el realismo con el que está implementado. Esto, sumado a la idea de desarrollar un videojuego desde hace muchos años, ha resultado en la ocurrencia de desarrollar un juego implementando en él mecánicas realistas y generando los mapas de forma aleatoria, ya que para el diseño de los mismo es necesario tener unos conocimientos de diseño 3D previos. También debido a la reciente tendencia en videojuegos famosos como \textit{The Legend of Zelda} de realizar un estilo gráfico \textit{Toon Shading} en los videojuegos, alejándolos del típico efecto fotorealista, se decidió también recrear dicho estilo para el proyecto. 

\section{Contexto}

\subsection{Origen de los videojuegos}

Antes de poder tratar el proyecto que se ha realizado, conviene repasar la historia de los videojuegos, los tipos que hay y los elementos que los componen.

Los videojuegos han evolucionado de manera significativa desde sus primeros días hasta convertirse en una industria multimillonaria y una forma de entretenimiento globalmente popular, para ello se recorrerá brevemente las décadas desde su origen hasta los tiempos actuales.

\subsubsection{Evolución de los videojuegos}

\begin{enumerate}
    \item \textbf{Décadas de 1950 y 1960} Los primeros desarrollos en los videojuegos tuvieron lugar en laboratorios de investigación y universidades durante la década de 1950. El primer juego interactivo, llamado \textit{Tennis for Two}, fue creado por \textbf{William Higinbotham} en 1958 y se jugaba en un osciloscopio. A medida que avanzaba la década de 1960, los videojuegos se convirtieron en una curiosidad científica, con la creación de juegos como \textit{Spacewar!} en 1962, por lo que en ese momento se empezó a valorar el potencial que podían tener este tipo de productos.
    \item \textbf{Década de 1970} La década de 1970 marcó el comienzo de la industria moderna de los videojuegos tal y como la conocemos actualmente. El lanzamiento de la primera consola de videojuegos doméstica, la \textit{Magnavox Odyssey}, en 1972, abrió el camino para la popularización de los videojuegos. Sin embargo, fue el lanzamiento del juego \textit{Pong} de la famosa empresa tecnológica \textbf{Atari} en 1972 el que realmente atrajo la atención del público y estableció los cimientos de la industria. La mayoría de personas que vivieron esa época están de acuerdo en que el \textit{Pong} fue de los primeros videojuegos que probaron.
    \begin{figure}[H]
        \centering
        \includegraphics[width=9cm, height=6cm]{Pong.png}
        \caption{Atari Pong, extraído de \url{https://es.wikipedia.org/wiki/Pong}}
    \end{figure}
    \item \textbf{Década de 1980} La década de 1980 fue una época de rápido crecimiento y evolución para los videojuegos. El surgimiento de las consolas domésticas, como el \textit{Atari 2600} y el \textit{Nintendo Entertainment System (NES)}, permitió que los videojuegos llegaran a un público más amplio llevandolos a las casas de las personas particulares y enfocándolos a públicos más jóvenes. Juegos icónicos como \textit{Super Mario Bros} y \textit{Tetris} se convirtieron en éxitos mundiales y sentaron las bases para muchos géneros y mecánicas de juego que se utilizan hasta hoy.
    \item \textbf{Década de 1990} La década de 1990 fue testigo de un gran avance en los gráficos y la jugabilidad de los videojuegos. La introducción de consolas como la \textit{Super Nintendo Entertainment System} y la \textit{Sega Genesis} trajo consigo avances tecnológicos significativos sobre todo en el apartado gráfico de éstos, ya que se empezó a popularizar el 3D. Además, el auge de los juegos de PC permitió una mayor diversidad y complejidad en los juegos. Títulos influyentes como \textit{Doom}, \textit{Final Fantasy VII} y \textit{Super Mario 64} dejaron una marca duradera en la industria.
    \item \textbf{Década de 2000} El comienzo del siglo XXI trajo consigo una nueva era para los videojuegos. El avance en la tecnología de gráficos 3D, junto con el aumento de la conectividad en línea (juegos on-line), abrió la puerta a una mayor interacción entre los jugadores. Los juegos en línea y los juegos multijugador masivos en línea (MMO) se volvieron extremadamente populares. Ésta época marcó la tendencia de enfocar cada vez más los videojuegos el juego con otros mediante internet. 
    \item \textbf{Década de 2010 en adelante} La última década ha sido testigo de una explosión en la popularidad de los videojuegos y su integración en la cultura popular, tanto que gente de todas las edades, a día de hoy es fácil que jueguen a algún videojuego. Los avances tecnológicos en las consolas de última generación, como \textit{PlayStation 4},\textit{Xbox One} y \textit{Nintendo Switch}, han llevado los gráficos y la jugabilidad a niveles sin precedentes. Además, la aparición de los juegos móviles y las plataformas de transmisión en vivo, como \textit{Twitch}, han transformado la forma en que se juegan y se consumen los videojuegos como algo disfrutable en comunidad.
\end{enumerate}

\subsubsection{Actualidad de los videojuegos}

En la actualidad, los videojuegos se han convertido en un fenómeno global, con millones de jugadores en todo el mundo. La realidad virtual, la realidad aumentada y la inteligencia artificial están abriendo nuevas posibilidades en el diseño y la experiencia de juego. Los videojuegos también han encontrado su lugar en los deportes electrónicos (eSports), con torneos y competiciones que atraen a grandes audiencias y ofrecen premios millonarios.

\subsection{Evolución de la capacidad gráfica de los ordenadores}

A medida que las unidades de procesamiento gráfico (GPUs) se volvieron más comunes en los dispositivos informáticos, se produjo un gran avance en el rendimiento y las capacidades gráficas.

En los años 90, las GPUs empezaron a utilizarse principalmente en ordenadores de sobremesa y consolas de videojuegos. En ese momento, las tarjetas gráficas tenían un rendimiento limitado en comparación con las versiones más actuales que podemos encontrar, pero en ese entonces, su capacidad para acelerar los cálculos gráficos era revolucionaria. Estas primeras GPUs se centraban en procesar polígonos y texturas en entornos tridimensionales, lo que permitía la creación de gráficos más realistas y detallados.

A medida que avanzaba la década de 1990, las GPUs mejoraron rápidamente sus capacidades. Se añadieron nuevas características, como por ejemplo el mapeado de texturas, la iluminación y los efectos especiales, lo que produjo un aumento de la calidad visual de los juegos y aplicaciones gráficas. Estas mejoras permitieron a los desarrolladores crear mundos virtuales más inmersivos y realistas.

En los primeros años de la década de los 2000, las tarjetas gráficas empezaron a integrarse en los ordenadores portátiles, lo que permitió a los usuarios disponer de gráficos avanzados en dispositivos más compactos. Las GPUs móviles se volvieron más eficientes y potentes, lo que resultó en una experiencia gráfica similar a la de los ordenadores de sobremesa.

Con el tiempo, las gráficas evolucionaron aún más y se hicieron aún más potentes. Se introdujeron nuevas tecnologías, como los sombreadores programables (\textit{shaders}), que permitían un mayor control sobre los efectos visuales y una mayor flexibilidad en la representación de gráficos. Esto dio lugar a mejoras significativas en la calidad visual de los videojuegos, películas y otras aplicaciones gráficas.

A medida que los dispositivos móviles se hicieron más populares, las tarjetas de gráficos también se integraron en este tipo de dispositivos. Los \textit{smartphones} y las tabletas comenzaron a aprovechar las GPUs para ofrecer gráficos mejorados en pantallas más pequeñas. Esto permitió la reproducción de juegos de alta calidad, así como aplicaciones de realidad aumentada y realidad virtual en dispositivos móviles.

Además, las GPUs han tenido un impacto significativo en el campo del aprendizaje automático y la \textbf{inteligencia artificial}. Gracias a su capacidad para realizar cálculos paralelos masivos, las tarjetas gráficas se han convertido en una herramienta esencial en el procesamiento de datos para aplicaciones IA, como el reconocimiento de imágenes y el procesamiento del lenguaje natural.

La popularización del uso de las GPUs a partir de los años 90 ha impulsado una notable evolución en las capacidades gráficas de los ordenadores y dispositivos. Desde la mejora de la calidad visual en juegos y aplicaciones gráficas, hasta la integración de GPUs en dispositivos portátiles y móviles, estas unidades de procesamiento gráfico han desempeñado un papel fundamental en el desarrollo de experiencias visuales más inmersivas y avanzadas en una amplia gama de dispositivos.

\section{Componentes de los videojuegos}

Los videojuegos se componen de una serie de elementos que, en conjunto, crean una experiencia única y envolvente para los jugadores. Estos componentes han evolucionado a lo largo del tiempo y han contribuido a que los videojuegos sean considerados una forma de arte para muchos usuarios. A continuación se tratará de forma breve cada uno de estos componentes.

\textbf{Gráficos y Diseño Visual}. Los avances en la tecnología han permitido la creación de gráficos 3D cada vez más realistas en los videojuegos. Los programadores usan motores gráficos y herramientas de diseño para crear esos mundos. Por otra parte, el desarrollo de gráficos de buena calidad suele repercutir en el coste y cantidad de recursos necesarios para mover el juego con fluidez, lo que puede plantear desafíos técnicos y de rendimiento.

\textbf{Jugabilidad y Mecánicas de Juego}. La jugabilidad es uno de los aspectos más importantes de un videojuego. Las mecánicas de juego, como los controles, las físicas y las interacciones del jugador con el entorno, determinan cómo será la experiencia para el jugador dentro del entorno. Los diseñadores deben equilibrar la dificultad, la accesibilidad y la diversión para garantizar una buena experiencia a los usuarios. El diseño de niveles es una parte fundamental de la jugabilidad.

\textbf{Historia} Muchos videojuegos cuentan con historias complejas. La escritura de guiones y diálogos, así como la creación de personajes memorables, son componentes cruciales para involucrar emocionalmente a los jugadores en el videojuego. Sin embargo, la creación de una narrativa puede ser un desafío, debido a que se debe equilibrar con la jugabilidad y mantener el ritmo adecuado para mantener el interés del jugador. Demasiadas líneas de diálogo o fragmentos cinematográficos pueden desagradar a los usuarios.

\textbf{Música y sonido}. La música y los efectos de sonido tienen un papel vital en la creación de emociones para el jugador dentro de un videojuego. La composición de bandas sonoras originales y la implementación de sonidos requieren un nivel de conocimiento de música y composición que en la mayoria de los casos hace necesaria la contratación de alguien especializado en estos aspectos. Además, los problemas de licencia y derechos de autor pueden surgir al utilizar música existente.

\textbf{Personajes y arte conceptual}. El diseño de personajes y el arte conceptual son elementos esenciales para la identidad de un videojuego. Los artistas digitales crean ilustraciones, modelos 3D, animaciones y efectos visuales que dan vida a los personajes y al mundo del juego.

Gracias a la combinación de estos componentes, los videojuegos se han llegado a considerar un nuevo tipo de arte. A través de la creatividad, la tecnología y la innovación, los desarrolladores han logrado crear experiencias interactivas que provocan emociones a los jugadores y en ocasiones buscan transmitir mensajes.

Llegado a este punto, da la sensación de que para poder desarrollar un videojuego, son necesarios los conocimientos en múltiples campos y la disposición de gran cantidad de herramientas para ello, y esto, para desarrolladores independientes suele ser algo totalmente imposible, por lo que es muy frustante esa falta de medios o de conocimientos. 

\subsubsection{Valoración de distintos motores gráficos}

Con el desarrollo de herramientas como \textit{Unity}, se ha conseguido dar la posibilidad a los desarrolladores independientes de usar una herramienta software con todos los medios necesarios para el desarrollo de un videojuego. \textit{Unity}  es uno de los motores de videojuegos más populares del mercado. Según estadísticas recientes, se estima que más del 60\verb|%| de todos los juegos móviles y alrededor del 50\verb|%| de los juegos para PC y consolas se crean utilizando \textit{Unity}. Esto se debe a su accesibilidad tanto para desarrolladores independientes como para grandes estudios. También es compatible con una amplia gama de plataformas por lo que es una buena opción para la mayoría de los desarrolladores. También tiene soporte para realidad virtual. Permite además desarrollar proyectos tanto en 2D como 3D por lo que se ofrece una gran posibilidad a los desarrolladores para que realicen sus ideas en este motor. Un gran punto a favor de Unity es su extensa documentación y la gran comunidad que tiene, ya que si surge algún problema, en la documentación se puede encontrar la solución, o bien en algún foro se ha resuelto una duda parecida, por lo que resulta muy útil.

Unity ofrece numerosas características avanzadas que permiten a los desarrolladores crear experiencias de juego más inmersivas. Algunas de estas características incluyen herramientas de física, sistemas de partículas, renderizado de alta calidad, inteligencia artificial, redes y multijugador.

Otras herramientas que desempeñan un papel similar al de \textit{Unity} son \textit{Unreal Engine} y \textit{Godot}.

Unreal Engine es un motor de gráficos utilizado principalmente en el desarrollo de videojuegos. Utiliza C++ como lenguaje de programación, lo que permite un control preciso y un alto rendimiento. Destaca por sus gráficos avanzados, ofreciendo un motor de renderizado realista y efectos visuales de alta calidad. Además, cuenta con un sistema de programación visual llamado \textit{Blueprints}, que facilita la creación de lógica de juego sin necesidad de programar en código. También incluye un sistema de simulación física para interacciones realistas. Unreal Engine cuenta con una gran comunidad de desarrolladores, amplia documentación, tutoriales y soporte técnico, lo que lo convierte en una buena opción, poderosa y versátil.

Por otro lado, Godot es otro motor de juego utilizado en el desarrollo de videojuegos. Utiliza \textit{GDScript}, un lenguaje basado en \textit{Python}, que es fácil de aprender y utilizar. Godot tiene un enfoque en el sistema de nodos, permitiendo construir la estructura y la lógica del juego de forma intuitiva. Además, ofrece un editor unificado que combina el diseño de niveles y la programación en un solo entorno. Es compatible con múltiples plataformas, lo que permite exportar juegos a diferentes sistemas operativos de forma sencilla. Una ventaja adicional de Godot es que es de \textbf{código abierto}, lo que significa que es gratuito y se puede personalizar según las necesidades del desarrollador. Es una opción popular para desarrolladores independientes y equipos pequeños debido a su facilidad de uso y su licencia de código abierto.

Tras valorar las opciones mencionadas, se optó finalmente por usar \textit{Unity} por las siguientes razones, su comunidad es la más grande actualmente en cuanto a usuarios, documentación y foros, por lo que para encontrar ayuda a la hora de desarrollar sería más sencillo incluso que \textit{Unreal Engine}. El lenguaje que se usa es \textit{C\#}, el cual se tiene un gran interés en aprender. Para desarrollar videojuegos 3D es mejor opción que \textit{Godot} y entre \textit{Unity} y \textit{Unreal Engine} se eligió \textit{Unity} debido a que se pueden crear gráficos no realistas con más facilidad que en \textit{Unreal Engine}, el cual está enfocado en gráficos realistas de alta calidad. Finalmente, la razón principal fue que en el momento de elegir, se consiguió acceso a cursos de aprendizaje de \textit{Unity} de pago por buen precio y muy completos, por lo que tras realizarlos finalmente se optó por dicha herramienta.

Por éstas razones finalmente se eligió \textit{Unity} para el desarrollo del proyecto.

\section{Descripción del problema}

El objetivo del trabajo será el desarrollo de un videojuego interactivo el cual pueda resultar en una buena experiencia en el usuario final. Para ello será necesario enfrentarse a una serie de problemas para poder obtener el resultado estimado.

Será clave definir el tipo de juego que se quiere, así como el tipo de cámara que se usará para mostrar los eventos y desarrollar alrededor de ello el resto de videojuego. La temática artística será también otro tema a tener en cuenta.

Se prosigue con la definición del personaje que controlará el jugador, se ha de buscar un modelo que satisfaga el estilo definido previamente, y dotar a dicho personaje de elementos como un arma para enfrentarse a los enemigos y un set de movimientos acompañados con sus respectivas animaciones.

Otro aspecto que se tendrá que resolver es el de la modificación de las geometrías de las escena, ya que al jugador se le dotará de la posibilidad de realizar ''Cortes'' a los elementos estáticos de la escena, y se deben ver modificados de forma fluida para que la experiencia del jugador sea adecuada. También dar la posibilidad de modificar la dirección del corte.

La generación de los mapas y sus elementos de forma procedural será otro apartado que tener en cuenta, ya que para evitar el diseño de un mapa completo y estático, se ha decidido que se genere de forma procedural, que eso conlleva explorar diferentes posibilidades y aplicar conocimientos adquiridos en asignaturas como \textit{Informática Gráfica} y \textit{Sistemas Gráficos}.

Para desarrollar el estilo gráfico deseado \textit{Toon Shading} será necesario investigar el comportamiento de la luz sobre las caras que forman las mallas de los objetos y modificar ese comportamiento por defecto para conseguir el estilo deseado. Se requerirá el aprendizaje de herramientas propias de \textit{Unity} para facilitar el proceso de desarrollo.

Para conseguir superar la mayoría de estos problemas será necesario aprender a usar por tanto, el entorno de \textit{Unity} y el lenguaje de programación usado para el desarrollo de los \textit{Scripts} de código, necesarios para conseguir los comportamientos deseados. El lenguaje de programación es \textbf{C\#}, el cual es un lenguaje desarrollado por \textit{Microsoft} como parte de la plataforma \textbf{.NET}. La sintáxis está creada a partir de \textbf{C/C++} y su modelo de datos deriva de la citada plataforma, que es parecido al de \textit{Java}. Como se ha comentado, será el lenguaje usado para desarrollar los ficheros de comportamientos específicos de \textit{Unity}, para conseguir los resultados esperados.

\section{Alcance de la memoria}

La memoria sigue una estructura la cual abarca diferentes aspectos del desarrollo del proyecto realizado. En la siguiente sección, el capítulo \ref{chap:objetivos} se comentan los objetivos iniciales y los que se han conseguido finalmente. Después en el capípulo \ref{chap:resolucion} se detallará el desarrollo del programa en una serie de sub apartados. Se comenzará con la planificación inicial y el presupuesto para desarrollar el videojuego en la sección \ref{sec:planificacion}. 

Posteriormente en la sección \ref{sec:analisis} se realizará el análisis de requisitos e historias de usuario. A continuación, en la sección \ref{sec:implementacion} se tratará la parte más técnica del documento, mostrando bocetos del videojuego, diagramas de clases, explicación de los algoritmos usados y la implementación del videojuego, incluyendo imágenes de muestra de los resultados obtenidos así de ejemplos de código desarrollado.

En la sección \ref{sec:manual} se expone el manual de usuario, donde se indicará como poder usar el sofware así como la instalación del mismo.

En el capítulo \ref{chap:conclusiones} se expondrán las conclusiones del proyecto así como sus posibles vías futuras.

Por último se encuentra la bibliografía, dónde estará disponibles las fuentes consultadas para la realización de éste proyecto.